import{c as O,I as Y,q as J,w as K,u as Q,a as D,E as ee,F as se,H as h,J as te,j as i}from"./index-IXPZLadX.js";import{b as ae}from"./index-BPnbHdHF.js";import{I as b}from"./InputField-DVOCsLAd.js";import{u as ie}from"./UseToastNotifier-BzrUrYyp.js";import{B as re}from"./BlueFadeBackground-bjBbzqVH.js";import{G as oe,B as le}from"./BasicLayout-9mb8AGTv.js";import{u as ne,o as me,B as de}from"./yup-CdVSpZB0.js";import{F as ce}from"./XMarkIcon-CrilX6eH.js";async function fe(s){try{await J.post("/api/users/self-register",s)}catch(e){throw K.create(e)}}function ue(){const s=O.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:pe},s[0]=e):e=s[0],Y(e)}async function pe(s){return await fe(s)}function ge(){const s=O.c(15),e=Q(),l=D(),{appNameCapital:p}=ee(),{isPending:t,mutateAsync:m}=ue(),{addToast:d,clearToasts:c}=ie();let f;s[0]!==e?(f=function(){e("/login")},s[0]=e,s[1]=f):f=s[1];const a=f;let u;s[2]!==d||s[3]!==c||s[4]!==l||s[5]!==e||s[6]!==m?(u=async function(g){c();try{await m(g),e("/")}catch{d(l.formatMessage({description:"SignUpPage - Sign up error alert title",defaultMessage:"Something went wrong",id:"CrlHXH"}))}},s[2]=d,s[3]=c,s[4]=l,s[5]=e,s[6]=m,s[7]=u):u=s[7];const o=u;let r;s[8]!==o||s[9]!==t?(r={loading:t,onSubmit:o},s[8]=o,s[9]=t,s[10]=r):r=s[10];let n;return s[11]!==p||s[12]!==a||s[13]!==r?(n={appName:p,onBack:a,signUpForm:r},s[11]=p,s[12]=a,s[13]=r,s[14]=n):n=s[14],n}function he(s){const e=O.c(79),{loading:l,onSubmit:p}=s,t=D();let m,d;if(e[0]!==t){const X=se().shape({firstName:h().optional(),lastName:h().optional(),userName:h().required(t.formatMessage({description:"SignUpFormValidation - Display Name is required",defaultMessage:"We need to call you something",id:"piUPAg"})),email:h().email(t.formatMessage({description:"SignUpFormValidation - Email must be valid",defaultMessage:"Email must be valid",id:"SBRRVR"})).required(t.formatMessage({description:"SignUpFormValidation - Email is required",defaultMessage:"Email is required",id:"o5TvN6"})),password:h().required(t.formatMessage({description:"SignUpFormValidation - Password is required",defaultMessage:"Password is required",id:"p9y0Zh"})).min(8,t.formatMessage({description:"SignUpFormValidation - Password is too short - min 8 characters",defaultMessage:"Password is too short - should be 8 chars minimum",id:"YzHSuh"})),confirmPassword:h().required(t.formatMessage({description:"SignUpFormValidation - PasswordConfirm is required",defaultMessage:"Password must be confirmed",id:"WZbH01"})).oneOf([te("password")],t.formatMessage({description:"SignUpFormValidation - Passwords must match",defaultMessage:"Passwords must match",id:"IOLTJ0"})),phoneNumber:h().optional()}).required();d=ne,m=me(X),e[0]=t,e[1]=m,e[2]=d}else m=e[1],d=e[2];let c;e[3]!==m?(c={resolver:m},e[3]=m,e[4]=c):c=e[4];const{handleSubmit:f,register:a,formState:u}=d(c),{errors:o}=u;let r;e[5]!==f||e[6]!==p?(r=f(p),e[5]=f,e[6]=p,e[7]=r):r=e[7];let n;e[8]!==t?(n=t.formatMessage({description:"SignUpFormLabel - User Name",defaultMessage:"What should we call you?",id:"f2xRFX"}),e[8]=t,e[9]=n):n=e[9];const I=o.userName?.message;let g;e[10]!==a?(g=a("userName"),e[10]=a,e[11]=g):g=e[11];let x;e[12]!==n||e[13]!==I||e[14]!==g?(x=i.jsx(b,{autoFocus:!0,id:"userName",type:"text",placeholder:n,error:I,...g,"data-testid":"sign-up-form__username-input"}),e[12]=n,e[13]=I,e[14]=g,e[15]=x):x=e[15];let w;e[16]!==t?(w=t.formatMessage({description:"SignUpFormLabel - First Name",defaultMessage:"What is your first name?",id:"NFDCUF"}),e[16]=t,e[17]=w):w=e[17];const W=o.firstName?.message;let S;e[18]!==a?(S=a("firstName"),e[18]=a,e[19]=S):S=e[19];let N;e[20]!==w||e[21]!==W||e[22]!==S?(N=i.jsx(b,{id:"firstName",type:"text",placeholder:w,error:W,...S,"data-testid":"sign-up-form__firstname-input"}),e[20]=w,e[21]=W,e[22]=S,e[23]=N):N=e[23];let M;e[24]!==t?(M=t.formatMessage({description:"SignUpFormLabel - Last Name",defaultMessage:"What is your last name?",id:"3YTbxI"}),e[24]=t,e[25]=M):M=e[25];const A=o.lastName?.message;let y;e[26]!==a?(y=a("lastName"),e[26]=a,e[27]=y):y=e[27];let U;e[28]!==M||e[29]!==A||e[30]!==y?(U=i.jsx(b,{id:"lastName",type:"text",placeholder:M,error:A,...y,"data-testid":"sign-up-form__lastname-input"}),e[28]=M,e[29]=A,e[30]=y,e[31]=U):U=e[31];let F;e[32]!==t?(F=t.formatMessage({description:"SignUpFormLabel - Email",defaultMessage:"What's your email?",id:"tZBQgk"}),e[32]=t,e[33]=F):F=e[33];const H=o.email?.message;let j;e[34]!==a?(j=a("email"),e[34]=a,e[35]=j):j=e[35];let _;e[36]!==F||e[37]!==H||e[38]!==j?(_=i.jsx(b,{id:"email",type:"email",placeholder:F,error:H,...j,"data-testid":"sign-up-form__email-input"}),e[36]=F,e[37]=H,e[38]=j,e[39]=_):_=e[39];let P;e[40]!==t?(P=t.formatMessage({description:"SignUpFormLabel - Phone Number",defaultMessage:"What's your phone number?",id:"UjAA8C"}),e[40]=t,e[41]=P):P=e[41];const G=o.phoneNumber?.message;let B;e[42]!==a?(B=a("phoneNumber"),e[42]=a,e[43]=B):B=e[43];let k;e[44]!==P||e[45]!==G||e[46]!==B?(k=i.jsx(b,{id:"phoneNumber",type:"tel",placeholder:P,error:G,...B,"data-testid":"sign-up-form__phonenumber-input"}),e[44]=P,e[45]=G,e[46]=B,e[47]=k):k=e[47];let q;e[48]!==t?(q=t.formatMessage({description:"SignUpFormLabel - Password",defaultMessage:"Create a password",id:"ppqAda"}),e[48]=t,e[49]=q):q=e[49];const Z=o.password?.message;let v;e[50]!==a?(v=a("password"),e[50]=a,e[51]=v):v=e[51];let V;e[52]!==q||e[53]!==Z||e[54]!==v?(V=i.jsx(b,{id:"password",type:"password",placeholder:q,error:Z,...v,"data-testid":"sign-up-form__password-input"}),e[52]=q,e[53]=Z,e[54]=v,e[55]=V):V=e[55];let C;e[56]!==t?(C=t.formatMessage({description:"SignUpFormLabel - Confirm Password",defaultMessage:"Confirm password",id:"dU9xzq"}),e[56]=t,e[57]=C):C=e[57];const z=o.confirmPassword?.message;let L;e[58]!==a?(L=a("password"),e[58]=a,e[59]=L):L=e[59];let E;e[60]!==C||e[61]!==z||e[62]!==L?(E=i.jsx(b,{id:"confirmPassword",type:"password",placeholder:C,error:z,...L,"data-testid":"sign-up-form__confirmpassword-input"}),e[60]=C,e[61]=z,e[62]=L,e[63]=E):E=e[63];let R;e[64]!==t?(R=t.formatMessage({description:"SignUpFormButton - Sign Up",defaultMessage:"Sign Up",id:"oigOyc"}),e[64]=t,e[65]=R):R=e[65];let $;e[66]!==l||e[67]!==R?($=i.jsx(de,{loading:l,type:"submit",className:"btn btn-primary text-base-100 dark:text-base-300 z-20 mt-2","data-testid":"sign-up-form__submit-button",children:R}),e[66]=l,e[67]=R,e[68]=$):$=e[68];let T;return e[69]!==N||e[70]!==U||e[71]!==_||e[72]!==k||e[73]!==V||e[74]!==E||e[75]!==$||e[76]!==r||e[77]!==x?(T=i.jsxs("form",{onSubmit:r,className:"flex flex-col",children:[x,N,U,_,k,V,E,$]}),e[69]=N,e[70]=U,e[71]=_,e[72]=k,e[73]=V,e[74]=E,e[75]=$,e[76]=r,e[77]=x,e[78]=T):T=e[78],T}function be(s){const e=O.c(20),{signUpForm:l,onBack:p}=s,t=D();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=i.jsxs(i.Fragment,{children:[i.jsx(re,{}),i.jsx(oe,{})]}),e[0]=m):m=e[0];let d;e[1]!==t?(d=t.formatMessage({description:"SignUpView - Back button title",defaultMessage:"Back",id:"beyKXy"}),e[1]=t,e[2]=d):d=e[2];let c;e[3]!==t?(c=t.formatMessage({description:"SignUpView - Back button aria label",defaultMessage:"Back",id:"Gy2cjY"}),e[3]=t,e[4]=c):c=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=i.jsx(ce,{className:"h-6 w-6"}),e[5]=f):f=e[5];let a;e[6]!==p||e[7]!==d||e[8]!==c?(a=i.jsx("div",{className:"card-actions justify-end",children:i.jsx("button",{className:"btn btn-square btn-sm",onClick:p,title:d,"aria-label":c,children:f})}),e[6]=p,e[7]=d,e[8]=c,e[9]=a):a=e[9];let u;e[10]!==t?(u=t.formatMessage({description:"SignUpView - Sign up description",defaultMessage:"Sign up with your email address",id:"NG06ZV"}),e[10]=t,e[11]=u):u=e[11];let o;e[12]!==u?(o=i.jsx("p",{className:"my-2 text-center",children:u}),e[12]=u,e[13]=o):o=e[13];let r;e[14]!==l?(r=i.jsx("div",{className:"md:px-12",children:i.jsx(he,{...l})}),e[14]=l,e[15]=r):r=e[15];let n;return e[16]!==a||e[17]!==o||e[18]!==r?(n=i.jsx(le,{className:"dark:bg-base-300/40",backgroundElement:m,children:i.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:i.jsx("div",{className:"hero",children:i.jsx("div",{className:"hero-content w-full flex-col lg:flex-row-reverse",children:i.jsx("div",{className:"card bg-base-100 w-full shrink-0 shadow-2xl sm:min-h-[550px] sm:w-[550px]",children:i.jsxs("div",{className:"card-body w-full md:min-w-96",children:[a,o,r]})})})})})}),e[16]=a,e[17]=o,e[18]=r,e[19]=n):n=e[19],n}function je(){const s=O.c(2);ae("Sign Up");const e=ge();let l;return s[0]!==e?(l=i.jsx(be,{...e}),s[0]=e,s[1]=l):l=s[1],l}export{je as Component};
